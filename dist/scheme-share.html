<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="no"/>
    <meta name="wap-font-scale" content="no">
    <meta content="telephone=no" name="format-detection">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>微网站-分享方案</title>
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/jBox.min.css">
    <link rel="stylesheet" href="css/common.min.css">
    <link rel="stylesheet" href="css/index.min.css">
</head>
<body class="background isHide">
<div class="wrap d-height">
    <div class="container d-height">
        <div class="content-box details-box overflow" id="container">
            <div class="banner">
                <div class="swiper-container" id="bannerDetails">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <a href="#">
                                <img class="swiper-lazy" data-src="images/slide/details-banner1.jpg"
                                     src="images/slide/details-lazyloading.png">
                                <em class="fb-tag d-hide">360全景图</em>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="fb-user-form">
                <div class="user-list">
                    <div class="user-item">
                        <a class="link check-btn store-btn" href="javascript:;" id="storeBtn">
                            <span><em>*</em>商家</span>
                            <div class="cont">
                                <em class="text def">武汉欧亚达家居</em>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="user-list mb-0">
                    <div class="user-item">
                        <a class="link change-text bt" href="javascript:;">
                            <span><em>*</em>标题</span>
                            <div class="cont">
                                <em class="text def">龙湖江与城·千山万树</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link" href="javascript:;" id="showArea">
                            <span><em></em>城市</span>
                            <div class="cont">
                                <em class="text def">成都</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link" href="javascript:;" id="familyBtn">
                            <span><em></em>楼盘</span>
                            <div class="cont">
                                <em class="text def">龙湖江与城·千山万树</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link" href="javascript:;" id="houseBtn">
                            <span><em></em>户型</span>
                            <div class="cont">
                                <em class="text def">三居室</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link check-btn style-btn" href="javascript:;" id="styleBtn">
                            <span><em>*</em>风格</span>
                            <div class="cont">
                                <em class="text def">简约  现代  中式</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link change-text bj" href="javascript:;">
                            <span><em></em>整体报价</span>
                            <div class="cont">
                                <em class="text def">￥2000.00</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item">
                        <a class="link change-text ln" href="javascript:;">
                            <span><em></em>设计灵感</span>
                            <div class="cont">
                                <em class="text def">哥是老中医，专治吹牛逼，头疼脑热血压低，跟我没关系，你要吹牛逼，不如打飞机，又省钱来又过瘾，还没有压力</em>
                            </div>
                        </a>
                    </div>
                    <div class="user-item user-custom">
                        <a class="fb-btn background blue big radius mt-35  mb-30" href="javascript:;"
                           id="shareBtn">立即分享</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--右侧选择定位地址-->
<div class="fb-pop-disk location-pop">
    <div class="fb-pop-box animated-left">
        <div class="fb-pop-bg gray has-hd right">
            <div class="fb-disk-hd gray">
                <a class="fb-back-btn" href="javascript:;"><i>&lt;</i></a>
                <span class="fb-disk-title">选择城市</span>
                <a class="fb-close-btn" href="javascript:;"><i>&times;</i></a>
            </div>
            <div class="fb-disk-bd">
                <div class="overflow">
                    <div class="city-box province">
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                        <a href="javascript:;">北京</a>
                    </div>
                    <div class="city-box city"></div>
                </div>
                <div class="fb-disk-loading">
                    <div class="d-table d-height">
                        <div class="cell">
                            <label>
                                <img src="images/loading.gif">
                                <span>加载中...</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--户型-->
<div class="fb-pop-disk house-pop">
    <div class="fb-pop-box animated-bottom">
        <div class="fb-pop-bg gray has-hd bottom">
            <div class="fb-disk-hd gray">
                <span class="fb-disk-title">选择户型</span>
                <a class="fb-close-btn" href="javascript:;"><i>&times;</i></a>
            </div>
            <div class="fb-disk-bd">
                <div class="overflow">
                    <div class="city-box common house">
                        <a href="javascript:;">全部</a>
                        <a href="javascript:;">一居室</a>
                        <a href="javascript:;">二居室</a>
                        <a href="javascript:;">三居室</a>
                        <a href="javascript:;">四居室</a>
                        <a href="javascript:;">其他</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--风格/选择商家-->
<div class="fb-pop-disk style-pop">
    <div class="fb-pop-box animated-bottom">
        <div class="fb-pop-bg gray has-hd bottom">
            <div class="fb-disk-hd gray">
                <span class="fb-disk-title">选择风格</span>
                <a class="fb-close-btn text" href="javascript:;"><i>确定</i></a>
            </div>
            <div class="fb-disk-bd">
                <div class="overflow">
                    <div class="city-box common style" id="style">
                        <a href="javascript:;" class="checked all">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>全部</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>现代</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>简约</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>古典</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>北欧</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>中式</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>新中式</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>美式</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>田园</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>复古</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>异域</span>
                            </div>
                        </a>
                    </div>
                    <div class="city-box common style" id="store">
                        <a href="javascript:;" class="checked all">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>全部</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>重庆江北建玛特</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>重庆永川建玛特</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>武汉欧亚达家居</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>重庆欧亚达家居</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>四川成都建玛特温江店</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>江苏南京宜家家居</span>
                            </div>
                        </a>
                        <a href="javascript:;" class="checked">
                            <div class="fb-check-box">
                                <label>
                                    <i class="icon icon-checked"></i>
                                    <input type="checkbox">
                                </label>
                                <span>北京宜家家居</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--选择楼盘-->
<div class="fb-pop-disk family-pop">
    <div class="fb-pop-box animated-bottom">
        <div class="fb-pop-bg bto-full">
            <div class="fb-disk-bd">
                <div class="wrap d-height top">
                    <div class="header">
                        <div class="header-cont focus">
                            <div class="search-box">
                                <div class="search-btn off">
                                    <label>
                                        <span class="search-animate active form-input clean before-icon">
                                            <em class="icon icon-search"></em>
                                            <input class="search-input change-input" type="text" placeholder="搜索"
                                                   value="">
                                            <a class="clean-btn" href="javascript:;">×</a>
                                        </span>
                                    </label>
                                </div>
                            </div>
                            <a class="search-close active share fb-close-btn" href="javascript:;">取消</a>
                        </div>
                    </div>
                    <div class="container d-height">
                        <div class="content-box overflow">
                            <div class="city-box common family">
                                <a href="javascript:;">龙湖江与城</a>
                                <a href="javascript:;">龙湖时代天街</a>
                                <a href="javascript:;">龙湖千山万树</a>
                                <a href="javascript:;">龙湖凤凰城</a>
                                <a href="javascript:;">龙湖中鼎国际</a>
                                <a href="javascript:;">龙湖依山郡</a>
                                <a href="javascript:;">龙湖象屿两江公园</a>
                                <a href="javascript:;">龙湖约克郡尚景</a>
                                <a href="javascript:;">龙湖江与城</a>
                                <a href="javascript:;">龙湖江与城</a>
                                <a href="javascript:;">龙湖江与城</a>
                            </div>
                            <!--没有搜索到楼盘-->
                            <div class="none-data text">
                                <span>没有找到该楼盘</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--修改文字-->
<div class="fb-pop-disk change-text-pop">
    <div class="fb-pop-box animated-bottom">
        <div class="fb-pop-bg gray bto-full">
            <div class="fb-disk-bd">
                <div class="change-box">
                    <label class="form-input border big tb gray clean" id="bt">
                        <input class="change-input" type="text" placeholder="请输入标题" value="">
                        <a class="clean-btn" href="javascript:;">×</a>
                    </label>
                    <label class="form-input border big tb gray clean" id="bj">
                        <input class="change-input" type="text" placeholder="请输入报价金额" value="">
                        <a class="clean-btn" href="javascript:;">×</a>
                    </label>
                    <label class="form-input text border big tb gray clean" id="ln">
                        <textarea cols="" rows="" class="change-input" placeholder="请输入设计理"></textarea>
                        <a class="clean-btn" href="javascript:;">×</a>
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

<!--公用loading-->
<div class="fb-pop-disk" id="loadingEle">
    <div class="fb-disk-loading common-loading">
        <div class="d-table d-height">
            <div class="cell">
                <label>
                    <img src="images/loading.gif">
                    <span>加载中...</span>
                </label>
            </div>
        </div>
    </div>
</div>

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/swiper.jquery.min.js"></script>
<script src="js/jquery.lazyload.min.js"></script>
<script src="js/jQuery.jBox.js"></script>
<script src="js/Global.js"></script>
<script src="js/base.js"></script>
<script>
    $(function () {
        //分享按钮
        $("#shareBtn").click(function () {
            $.jBox.loading("分享中...", {boxID: "loadingBox"});
            setTimeout(function () {
                $.jBox.close("#loadingBox", null, function () {
                    $.jBox.confirm("成功分享至商家", {
                        confirmType: 3,
                        title: "",
                        hasIcon: true,
                        icon: {
                            width: "42px;",
                            height: "37px",
                            path: "images/",
                            src: "icon/share-success.png",
                            id: "share"
                        },
                        btn: {
                            number: 1,
                            array: [{
                                text: "返回我的方案",
                                href: "scheme-mine.html"
                            }]
                        }
                    });
                });
            }, 1000);
        });

        //按户型搜索
        var house = FB.showDiskPop({
            clickEle: "#houseBtn",
            diskEle: ".house-pop"
        });

        //搜索楼盘
        var family = FB.showDiskPop({
            clickEle: "#familyBtn",
            diskEle: ".family-pop"
        });

        //按风格搜索
        var checkAry = [];
        var style = FB.showDiskPop({
            clickEle: ".check-btn",
            diskEle: ".style-pop",
            openCallback: function (opt) {
                var $click = $(opt.clickTargert);
                checkAry = $click.data("dataAry") || [];
                if ($click.hasClass("style-btn")) {
                    $("#style").show().siblings().hide();
                    return false;
                }
                if ($click.hasClass("store-btn")) {
                    $("#store").show().siblings().hide();
                    return false;
                }
            },
            btnCallback: function (opt) {
                var index, str = "";
                if (checkAry.indexOf("全部") === -1) {
                    for (index in checkAry) {
                        str += " " + checkAry[index];
                    }
                } else {
                    str = "全部";
                }
                window.checkAry = checkAry;
                $(opt.clickTargert).data("dataAry", checkAry).find(".text").removeClass("def").text(str);
            }
        });

        //筛选结果
        $(".fb-pop-disk").on("click", ".city-box.common a", function () {
            var that = this;
            var parent = $(this).parent();
            var $loading = $("#loadingEle");
            if (parent.hasClass("house")) {
                $(this).addClass("active").siblings().removeClass("active");
                $loading.show();
                setTimeout(function () {
                    $loading.hide();
                    $("#houseBtn").find(".text").removeClass("def").text($(that).text());
                    house.closeElement();
                }, 1000);
            } else if (parent.hasClass("style")) {
                var index = $(this).index();
                var text = $(this).find(".fb-check-box>span").text();

                if (index === 0) {
                    if (!$(this).find(".fb-check-box").hasClass("active")) {
                        $(this).parents(".style").find("a >.fb-check-box").addClass("active");
                        checkAry.splice(0, checkAry.length);
                        $(this).parents(".style").find("a").each(function () {
                            checkAry.push($(this).find(".fb-check-box>span").text());
                        });
                    } else {
                        $(this).parents(".style").find("a >.fb-check-box").removeClass("active");
                        checkAry.splice(0, checkAry.length);
                    }
                    window.checkAry = checkAry;
                } else {
                    $(this).find(".fb-check-box").toggleClass("active");
                    var _checked = parent.find(".checked");
                    var checked = detectionCheckNum(_checked);
                    var $all = $(this).parents(".style").find("a:eq(0)>.fb-check-box");
                    !checked ? $all.removeClass("active") : $all.addClass("active");
                    if (!$(this).find(".fb-check-box").hasClass("active")) {
                        if (checkAry.indexOf(text) > -1) {
                            checkAry.splice(checkAry.indexOf(text), 1);
                            if (checkAry.indexOf("全部") === 0) {
                                checkAry.splice(0, 1);
                            }
                        }
                    } else {
                        if (checkAry.indexOf(text) === -1) {
                            if (checked) {
                                checkAry.splice(0, 0, "全部");
                            }
                            checkAry.push(text);
                        }
                    }
                }
                window.checkAry = checkAry;
            } else if (parent.hasClass("family")) {
                $(this).addClass("active").siblings().removeClass("active");
                $loading.show();
                setTimeout(function () {
                    $loading.hide();
                    $("#familyBtn").find(".text").removeClass("def").text($(that).text());
                    family.closeElement(".family-pop");
                }, 1000);
            }
        });

        //全选检测
        function detectionCheckNum(ele) {
            var all = $(ele).not(".all").find(".fb-check-box").length;
            var checked = $(ele).not(".all").find(".fb-check-box.active").length;
            return all === checked;
        }


        //修改文字
        var $clickTag = "";
        var changeName = FB.showDiskPop({
            clickEle: ".change-text",
            diskEle: ".change-text-pop",
            openCallback: function (opt) {
                var that = $(opt.diskEle).find(".change-input")[0];
                setTimeout(function () {
                    that.scrollIntoView(true);
                }, 500);
                var $click = $clickTag = $(opt.clickTargert);
                var bt = "bt",
                    bj = "bj",
                    ln = "ln";

                if ($click.hasClass(bt)) {
                    $("#" + bt).show().siblings().hide();
                    return false;
                }
                if ($click.hasClass(bj)) {
                    $("#" + bj).show().siblings().hide();
                    return false;
                }
                if ($click.hasClass(ln)) {
                    $("#" + ln).show().siblings().hide();
                    return false;
                }
            }
        });

        $(".change-input").on("blur", function () {
            changeName.closeElement(".change-text-pop");
            $clickTag.find(".text").removeClass("def").text($(this).val());
        }).on("keydown", function (e) {
            if (e.keyCode == "13") {
                $(this).blur();
            }
        });

        //banner
        var _bannerBox = FB.newSwiper("#bannerDetails", 1, {
            loop: false,
            onLazyImageReady: function (swiper, slide, image) {
                $(slide).find(".fb-tag").removeClass("d-hide");
                swiper.container.height($(slide).find("img").parents(".swiper-slide").eq(0).height());
                FB.setImageLayout($(slide).find("img")[0], swiper.container.width(), swiper.container.height(), $(slide).find("img").width(), $(slide).find("img").height(), "width");
            }
        });
    })
</script>
</body>
</html>